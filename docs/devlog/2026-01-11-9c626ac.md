# 2026-01-11 9c626ac

- Author: (unknown, created via Warp Agent)
- Commit: 9c626ac
- Date: 2026-01-11
- Subject: Initialize warp-fastapi-demo-ai with devlog template

## 변경 요약
- FastAPI 기반 데모 앱에 JWT 로그인 기능 추가
- 패스워드 해싱을 위한 Passlib 설정 (pbkdf2_sha256)
- OAuth2 Password Flow(`/auth/token`) 엔드포인트 구현
- `/users/me` 보호 엔드포인트로 현재 로그인 유저 정보 조회
- 인메모리 유저 저장소 대신 SQLite + SQLAlchemy 기반 `users` 테이블로 마이그레이션
- 앱 시작 시 `app.db` 에 `users` 테이블 자동 생성

## 세부 변경 사항
- `requirements.txt`
  - `SQLAlchemy`, `python-jose[cryptography]`, `passlib`, `python-multipart` 의존성 추가
- `app/main.py`
  - JWT 설정(SECRET_KEY, ALGORITHM, ACCESS_TOKEN_EXPIRE_MINUTES) 정의
  - SQLite 데이터베이스(`sqlite:///./app.db`) 연결 및 `UserORM` 모델 정의
  - `get_db` 의존성으로 SQLAlchemy 세션 주입
  - `pwd_context`(pbkdf2_sha256) 기반 비밀번호 해시/검증 로직 구현
  - `get_user`, `authenticate_user` 에서 DB에서 유저 조회 후 비밀번호 검증
  - 애플리케이션 startup 이벤트에서 `Base.metadata.create_all`로 테이블 생성
  - `/auth/token` 에서 폼 데이터(username, password)를 받아 인증 후 JWT access token 발급
  - `/users/me` 에서 Bearer 토큰을 파싱해 현재 로그인 유저 정보를 반환

## 테스트
- [x] `uvicorn app.main:app --reload` 로 서버 기동 확인
- [x] `/auth/token` 에 잘못된 계정으로 요청 시 401 응답 확인
- [x] DB에 생성한 테스트 유저로 `/auth/token` 호출 시 access_token 발급 확인
- [x] 발급된 토큰으로 `/users/me` 호출 시 유저 정보가 정상적으로 반환되는지 확인

## 메모
- 현재 SQLite(로컬 파일 `app.db`)를 사용 중이며, 실제 서비스 환경에서는 Postgres/MySQL 등으로 교체 및 마이그레이션 도구(Alembic 등) 도입 필요
- `SECRET_KEY` 는 환경 변수 또는 별도 설정 파일로 분리하는 것이 안전함
